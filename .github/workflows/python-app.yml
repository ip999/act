name: Python application - tests

on:
  # push:
  #   branches: [master]
  pull_request:
    branches: [master]

env:
  SG_CLIENT_ID: ${{ secrets.SG_CLIENT_ID }}
  SG_SECRET_KEY: ${{ secrets.SG_SECRET_KEY }}

jobs:
  Run:
    runs-on: ubuntu-latest
    steps:
      - name: Start Container
        run: |
        docker run -p 5000:5000 cndino/cicd-demo:latest
      - name: Run curl
        run: |
        curl localhost:5000